version: 2

models:
  - name: feat_h3_poi_r10
    tests:
      - rowcount_gt_0
    columns:
      - name: region_code
        tests: [not_null]
      - name: h3_r10
        tests: [not_null, is_h3_hex]
      - name: poi_cnt
        tests:
          - non_negative:
              column_name: poi_cnt

  - name: feat_h3_transit_r10
    tests:
      - rowcount_gt_0
    columns:
      - name: region_code
        tests: [not_null]
      - name: h3_r10
        tests: [not_null, is_h3_hex]
      - name: transit_points_cnt
        tests:
          - non_negative:
              column_name: transit_points_cnt
      - name: transit_lines_len_m_sum
        tests:
          - non_negative:
              column_name: transit_lines_len_m_sum

  - name: feat_h3_activity_places_r10
    tests:
      - rowcount_gt_0
    columns:
      - name: region_code
        tests: [not_null]
      - name: h3_r10
        tests: [not_null, is_h3_hex]
      - name: places_cnt
        tests:
          - non_negative:
              column_name: places_cnt

  - name: feat_h3_degurba_r10
    tests:
      - rowcount_gt_0
    columns:
      - name: region_code
        tests: [not_null]
      - name: h3_r10
        tests: [not_null, is_h3_hex]
      - name: year
        tests: [not_null]